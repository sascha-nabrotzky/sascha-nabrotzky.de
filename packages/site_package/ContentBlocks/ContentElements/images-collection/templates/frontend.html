<f:asset.css
    identifier="content-block-css-sn-sn/images-collection"
    href="{cb:assetPath()}/frontend.css"
/>
<f:asset.script
    identifier="content-block-js-sn-sn/images-collection"
    src="{cb:assetPath()}/frontend.js"
/>

<div
    id="{data.uid}"
    class="images-collection"
>
    <f:if condition="{data.header}">
        <header>
            <h4 class="headline">{data.header}</h4>
            <div class="line" />
        </header>
    </f:if>
    <f:for
        each="{data.collection}"
        as="collection-item"
    >
        <div class="collection-item">
            <f:if condition="{collection-item.image}">
                <f:for
                    each="{collection-item.image}"
                    as="image"
                >
                    <f:if condition="{image.link}">
                        <f:then>
                            <f:link.typolink
                                parameter="{image.link}"
                                additionalAttributes="{aria-label:'link to {collection-item.header}'}"
                            >
                                <div class="image-wrapper">
                                    <f:image
                                        image="{image}"
                                        alt="{image.alternative}"
                                        cropVariant="default"
                                        maxWidth="700"
                                        loading="lazy"
                                    />
                                </div>
                            </f:link.typolink>
                        </f:then>
                        <f:else>
                            <div class="image-wrapper">
                                <f:image
                                    image="{image}"
                                    alt="{image.alternative}"
                                    cropVariant="default"
                                    maxWidth="700"
                                    loading="lazy"
                                />
                            </div>
                        </f:else>
                    </f:if>
                </f:for>
            </f:if>
            <f:if condition="{collection-item.header}">
                <div class="description">
                    <p>
                        <span>{collection-item.header} </span
                        >{collection-item.text}
                    </p>
                </div>
            </f:if>
        </div>
    </f:for>
</div>
